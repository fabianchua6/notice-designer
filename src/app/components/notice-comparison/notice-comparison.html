<div class="comparison-container">
  <!-- Page Header -->
  <div class="page-header">
    <div class="header-left">
      <button mat-icon-button (click)="goBack()" matTooltip="Back to Dashboard">
        <mat-icon>arrow_back</mat-icon>
      </button>
      <div class="header-text">
        <h1>Compare Notices</h1>
        <p class="subtitle">Side-by-side comparison of two notice templates</p>
      </div>
    </div>
  </div>
  
  @if (notice1() && notice2()) {
    <div class="comparison-grid">
      <!-- Notice 1 -->
      <mat-card class="comparison-card">
        <div class="card-badge left">Notice A</div>
        <mat-card-header>
          <mat-card-title>{{ notice1()!.title }}</mat-card-title>
          <mat-card-subtitle>
            <mat-icon class="subtitle-icon">schedule</mat-icon>
            Created: {{ notice1()!.createdAt | date:'medium' }}
          </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <div class="preview-wrapper">
            <div class="mini-document-preview">
              <div class="mini-doc-header">
                <span class="mini-logo">IRAS</span>
                <span class="mini-date">{{ notice1()!.createdAt | date:'shortDate' }}</span>
              </div>
              <div class="mini-doc-title">{{ notice1()!.title }}</div>
              <div class="mini-doc-content">{{ notice1()!.content }}</div>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
      
      <!-- Notice 2 -->
      <mat-card class="comparison-card">
        <div class="card-badge right">Notice B</div>
        <mat-card-header>
          <mat-card-title>{{ notice2()!.title }}</mat-card-title>
          <mat-card-subtitle>
            <mat-icon class="subtitle-icon">schedule</mat-icon>
            Created: {{ notice2()!.createdAt | date:'medium' }}
          </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <div class="preview-wrapper">
            <div class="mini-document-preview">
              <div class="mini-doc-header">
                <span class="mini-logo">IRAS</span>
                <span class="mini-date">{{ notice2()!.createdAt | date:'shortDate' }}</span>
              </div>
              <div class="mini-doc-title">{{ notice2()!.title }}</div>
              <div class="mini-doc-content">{{ notice2()!.content }}</div>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
    
    <!-- Differences Analysis -->
    <mat-card class="differences-card">
      <mat-card-header>
        <mat-icon mat-card-avatar class="diff-icon">compare_arrows</mat-icon>
        <mat-card-title>Differences Analysis</mat-card-title>
        <mat-card-subtitle>Comparing properties between the two notices</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        @if (getDifferences().length > 0) {
          <div class="differences-list">
            @for (diff of getDifferences(); track diff) {
              <div class="diff-item">
                <mat-icon class="diff-icon-item">remove_circle_outline</mat-icon>
                <span>{{ diff }}</span>
              </div>
            }
          </div>
        } @else {
          <div class="no-differences">
            <mat-icon>check_circle</mat-icon>
            <span>These notices have identical styling properties!</span>
          </div>
        }
      </mat-card-content>
    </mat-card>
  }
</div>
