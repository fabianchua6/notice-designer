<div class="comparison-container">
  <div class="header">
    <h1>Notice Comparison</h1>
    <button mat-raised-button (click)="goBack()">
      <mat-icon>arrow_back</mat-icon>
      Back to List
    </button>
  </div>
  
  @if (notice1() && notice2()) {
    <div class="comparison-grid">
      <mat-card class="comparison-card">
        <mat-card-header>
          <mat-card-title>{{ notice1()!.title }}</mat-card-title>
          <mat-card-subtitle>
            Created: {{ notice1()!.createdAt | date:'short' }}
          </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <app-notice-preview
            [title]="notice1()!.title"
            [content]="notice1()!.content"
            [backgroundColor]="notice1()!.backgroundColor || '#ffffff'"
            [textColor]="notice1()!.textColor || '#000000'"
            [fontSize]="notice1()!.fontSize || 16"
            [fontFamily]="notice1()!.fontFamily || 'Arial'"
            [borderStyle]="notice1()!.borderStyle || 'solid'"
            [borderColor]="notice1()!.borderColor || '#000000'"
            [borderWidth]="notice1()!.borderWidth || 1"
            [padding]="notice1()!.padding || 16">
          </app-notice-preview>
        </mat-card-content>
      </mat-card>
      
      <mat-card class="comparison-card">
        <mat-card-header>
          <mat-card-title>{{ notice2()!.title }}</mat-card-title>
          <mat-card-subtitle>
            Created: {{ notice2()!.createdAt | date:'short' }}
          </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <app-notice-preview
            [title]="notice2()!.title"
            [content]="notice2()!.content"
            [backgroundColor]="notice2()!.backgroundColor || '#ffffff'"
            [textColor]="notice2()!.textColor || '#000000'"
            [fontSize]="notice2()!.fontSize || 16"
            [fontFamily]="notice2()!.fontFamily || 'Arial'"
            [borderStyle]="notice2()!.borderStyle || 'solid'"
            [borderColor]="notice2()!.borderColor || '#000000'"
            [borderWidth]="notice2()!.borderWidth || 1"
            [padding]="notice2()!.padding || 16">
          </app-notice-preview>
        </mat-card-content>
      </mat-card>
    </div>
    
    <mat-card class="differences-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>difference</mat-icon>
          Differences Analysis
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        @if (getDifferences().length > 0) {
          <ul class="differences-list">
            @for (diff of getDifferences(); track diff) {
              <li>{{ diff }}</li>
            }
          </ul>
        } @else {
          <p class="no-differences">
            <mat-icon>check_circle</mat-icon>
            These notices have identical styling properties!
          </p>
        }
      </mat-card-content>
    </mat-card>
  }
</div>
